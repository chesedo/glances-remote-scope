var scopes = require('unity-js-scopes');

var ErrorCategory = function() {
    this.template = {
        "schema-version": 1,
        "template": {
            "category-layout": "grid",
            "card-size": "large"
        },
        "components": {
            "summary": "summary"
        }
    }
}

ErrorCategory.prototype.createCategory = function(search_reply, canned_query, mes) {
    var category_renderer = new scopes.lib.CategoryRenderer(JSON.stringify(this.template));
    var category = search_reply.register_category("error", "Error", "", category_renderer);
    var categorised_result = new scopes.lib.CategorisedResult(category);

    categorised_result.set_uri(canned_query.to_uri());
    categorised_result.set("summary", mes + "\n\nClick to retry");

    search_reply.push(categorised_result);

    search_reply.finished();
}

exports.ErrorCategory = ErrorCategory;
